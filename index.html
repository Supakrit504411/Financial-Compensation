<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏á‡∏¥‡∏ô‡∏ä‡∏î‡πÄ‡∏ä‡∏¢</title>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --corp-navy: #1A2E44; 
            --input-bg: #F9FAFB;
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        /* --- PASTEL & SLOW MOTION BACKGROUND --- */
        body { 
            /* ‡πÑ‡∏•‡πà‡∏™‡∏µ‡∏û‡∏≤‡∏™‡πÄ‡∏ó‡∏•: ‡∏Ç‡∏≤‡∏ß‡∏≠‡∏°‡∏ä‡∏°‡∏û‡∏π, ‡∏ü‡πâ‡∏≤‡∏≠‡πà‡∏≠‡∏ô, ‡∏°‡πà‡∏ß‡∏á‡∏à‡∏≤‡∏á, ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏Ñ‡∏£‡∏µ‡∏° */
            background: linear-gradient(135deg, #FFF5F7, #E3F2FD, #F3E5F5, #FFFDE7);
            background-size: 400% 400%;
            animation: softFlow 20s ease infinite; /* ‡∏ß‡∏¥‡πà‡∏á‡∏ä‡πâ‡∏≤‡πÜ 20 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ */
            
            color: #333; 
            font-family: 'Sarabun', sans-serif; 
            margin: 0; 
            height: 100vh; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            padding: 15px; 
            overflow: hidden; 
        }

        @keyframes softFlow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .container { width: 100%; max-width: 400px; }
        
        .card { 
            background: rgba(255, 255, 255, 0.9); 
            border-radius: 20px; 
            padding: 25px; 
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.08); /* ‡πÄ‡∏á‡∏≤‡∏ü‡∏∏‡πâ‡∏á‡πÜ ‡∏ô‡∏∏‡πà‡∏°‡πÜ */
            border: 1px solid rgba(255,255,255,0.8); 
            backdrop-filter: blur(10px);
            animation: popIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            max-height: 95vh;
            overflow-y: auto;
        }

        .card::-webkit-scrollbar { width: 4px; }
        .card::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; }

        @keyframes popIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

        .card-header { text-align: center; margin-bottom: 20px; border-bottom: 2px dashed #eee; padding-bottom: 15px; }
        .card-title { 
            font-size: 1.4rem; font-weight: 700; margin: 0; 
            color: var(--corp-navy);
        }

        .input-group { margin-bottom: 12px; }
        label { display: block; font-size: 0.85rem; margin-bottom: 5px; font-weight: 600; color: var(--corp-navy); }
        
        select, input { 
            width: 100%; padding: 12px; border: 1px solid #E2E8F0; border-radius: 10px; 
            font-size: 0.95rem; outline: none; transition: 0.3s; background: var(--input-bg); 
        }
        
        input:focus, select:focus { 
            border-color: #B88A44; /* Focus ‡∏™‡∏µ‡∏ó‡∏≠‡∏á */
            background: #FFF; 
            box-shadow: 0 0 0 3px rgba(184, 138, 68, 0.15); 
        }
        
        input[readonly] { background-color: #F1F5F9; color: #94A3B8; }
        .grid-inputs { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 12px; }
        
        /* --- GOLDEN BUTTON --- */
        button { 
            width: 100%; padding: 15px; 
            /* ‡πÑ‡∏•‡πà‡∏™‡∏µ‡∏ó‡∏≠‡∏á: ‡∏ó‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏° -> ‡∏ó‡∏≠‡∏á‡∏™‡∏ß‡πà‡∏≤‡∏á -> ‡∏ó‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏° */
            background: linear-gradient(45deg, #B8860B, #FFD700, #DAA520, #B8860B);
            background-size: 300% 100%;
            color: white; border: none; border-radius: 10px; 
            font-size: 1.1rem; font-weight: 600; cursor: pointer; margin-top: 8px; 
            transition: all 0.4s ease-in-out;
            box-shadow: 0 4px 15px rgba(184, 134, 11, 0.3);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }
        button:hover { 
            background-position: 100% 0; /* ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏á‡∏≤‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏ß‡∏¥‡πà‡∏á */
            transform: translateY(-2px); 
            box-shadow: 0 6px 20px rgba(184, 134, 11, 0.4); 
        }
        button:active { transform: translateY(1px); }
        
        .result-box { 
            margin-top: 15px; padding: 15px; border-radius: 12px; text-align: center; display: none; 
            background: linear-gradient(to bottom, #FFFFFF, #FFFCF2); /* ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏™‡∏µ‡∏Ñ‡∏£‡∏µ‡∏°‡∏à‡∏≤‡∏á‡πÜ */
            border: 1px solid #F0E6D2; 
            animation: slideUp 0.5s ease;
        }
        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .result-amount { font-size: 2.2rem; font-weight: 700; margin: 5px 0; letter-spacing: -0.5px; }
        
        .info-section { 
            margin-top: 20px; font-size: 0.75rem; color: #64748B; 
            display: flex; flex-direction: column; gap: 10px; text-align: center;
        }
        
        .formula-text { 
            background: #F8FAFC; padding: 12px; border-radius: 8px; 
            line-height: 1.5;
            border-left: 4px solid #DAA520; /* ‡∏Ç‡∏≠‡∏ö‡∏ã‡πâ‡∏≤‡∏¢‡∏™‡∏µ‡∏ó‡∏≠‡∏á */
            text-align: left;
        }

        .developer-name { 
            font-size: 0.75rem; font-weight: 600; 
            background: linear-gradient(to right, #1A2E44, #B59461, #DAA520, #1A2E44); 
            background-size: 200% auto; -webkit-background-clip: text; -webkit-text-fill-color: transparent; 
            animation: ledFlow 4s linear infinite; 
        }
        @keyframes ledFlow { to { background-position: 200% center; } }
    </style>
</head>
<body>

<div class="container">
    <div class="card">
        <div class="card-header">
            <h1 class="card-title">Financial Compensation</h1>
        </div>

        <div class="input-group">
            <label>‡∏ß‡∏∏‡∏í‡∏¥‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</label>
            <select id="eduLevel" onchange="handleEduChange()">
                <option value="12690,15370">‡∏õ‡∏ß‡∏ä.</option>
                <option value="14160,17150">‡∏õ‡∏ß‡∏™.</option>
                <option value="16830,20380">‡∏õ.‡∏ï‡∏£‡∏µ 4 ‡∏õ‡∏µ</option>
                <option value="17830,21590">‡∏õ.‡∏ï‡∏£‡∏µ 4 ‡∏õ‡∏µ (‡∏ß‡∏®‡∏Å.)</option>
                <option value="20030,24250">‡∏õ.‡πÇ‡∏ó 4 ‡∏õ‡∏µ</option>
                <option value="custom">‡∏≠‡∏∑‡πà‡∏ô‡πÜ (‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á)</option>
            </select>
        </div>
        <div class="grid-inputs">
            <div><label>‡πÅ‡∏£‡∏Å‡∏ö‡∏£‡∏£‡∏à‡∏∏‡πÄ‡∏î‡∏¥‡∏°</label><input type="number" id="oldEntry" inputmode="decimal"></div>
            <div><label>‡πÅ‡∏£‡∏Å‡∏ö‡∏£‡∏£‡∏à‡∏∏‡πÉ‡∏´‡∏°‡πà</label><input type="number" id="newEntry" inputmode="decimal"></div>
        </div>
        <div class="input-group">
            <label>‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (‡∏ö‡∏≤‡∏ó)</label>
            <input type="number" id="currentSalary" placeholder="‡∏£‡∏∞‡∏ö‡∏∏" inputmode="decimal">
        </div>
        <button onclick="calculate()">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏á‡∏¥‡∏ô‡∏ä‡∏î‡πÄ‡∏ä‡∏¢</button>

        <div id="resultBox" class="result-box">
            <div style="font-size: 0.8rem; opacity: 0.7;">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ä‡∏î‡πÄ‡∏ä‡∏¢‡∏™‡∏∏‡∏ó‡∏ò‡∏¥</div>
            <div id="resAmt" class="result-amount">0.00</div>
            <div id="randomMsg" style="font-size: 0.9rem; font-weight: 500; margin-top: 5px;"></div>
        </div>

        <div class="info-section">
            <div class="formula-text">
                <span style="font-weight:700; color:var(--corp-navy);">Methodology:</span><br>
                (‡πÄ‡∏á‡∏¥‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô - ‡πÅ‡∏£‡∏Å‡∏ö‡∏£‡∏£‡∏à‡∏∏‡πÄ‡∏î‡∏¥‡∏°) √ó 0.5832 - (‡πÄ‡∏á‡∏¥‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô - ‡πÅ‡∏£‡∏Å‡∏ö‡∏£‡∏£‡∏à‡∏∏‡πÉ‡∏´‡∏°‡πà)
            </div>
            <span class="developer-name">Developer : ‡∏ä‡∏ú.‡∏ö‡∏™.‡∏Å‡∏ü‡∏à.‡∏ô‡∏Ñ‡∏£‡∏û‡∏ô‡∏°</span>
        </div>
    </div>
</div>

<script>
    const oldInput = document.getElementById('oldEntry');
    const newInput = document.getElementById('newEntry');
    const currSalaryInput = document.getElementById('currentSalary');
    const eduSelect = document.getElementById('eduLevel');
    const resultBox = document.getElementById('resultBox');

    const posMessages = ["Wow! ‡∏â‡∏•‡∏≠‡∏á‡πÜ ‡∏´‡∏°‡∏π‡∏ó‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß üê∑", "‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡∏ï‡∏∏‡∏á‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô üí∞", "‡∏õ‡∏±‡∏á‡∏°‡∏≤‡∏Å! ‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏µ‡πÉ‡∏´‡∏°‡πà ‚ú®", "‡∏™‡∏∏‡∏î‡∏¢‡∏≠‡∏î! ‡πÑ‡∏î‡πâ‡∏Ñ‡πà‡∏≤‡∏Ç‡∏ô‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏° üç∞", "‡πÉ‡∏à‡∏ü‡∏π‡πÄ‡∏•‡∏¢! ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö üòä"];
    const negMessages = ["‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏£‡∏ô‡∏∞... ‡∏™‡∏π‡πâ‡∏ï‡πà‡∏≠‡πÑ‡∏õ‚úåÔ∏è", "‡∏ï‡∏ö‡∏ö‡πà‡∏≤‡πÄ‡∏ö‡∏≤‡πÜ... ‡∏á‡∏ß‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏≠‡∏≤‡πÉ‡∏´‡∏°‡πà ü•∫", "‡∏Æ‡∏∂‡∏ö‡πÑ‡∏ß‡πâ‡∏Ñ‡∏£‡∏±‡∏ö! ‚úä", "‡πÇ‡∏ñ‡πà... ‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß üåä", "‡πÉ‡∏à‡πÄ‡∏¢‡πá‡∏ô‡πÜ ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà üåà"];

    [oldInput, newInput, currSalaryInput].forEach(input => {
        input.addEventListener('keypress', (e) => { if (e.key === 'Enter') { calculate(); input.blur(); } });
    });

    function handleEduChange() {
        const val = eduSelect.value;
        if (val === 'custom') {
            oldInput.readOnly = false; newInput.readOnly = false;
            oldInput.value = ""; newInput.value = "";
        } else {
            oldInput.readOnly = true; newInput.readOnly = true;
            const [o, n] = val.split(',').map(Number);
            oldInput.value = o; newInput.value = n;
        }
    }

    function animateValue(obj, start, end, duration) {
        let startTimestamp = null;
        const step = (timestamp) => {
            if (!startTimestamp) startTimestamp = timestamp;
            const progress = Math.min((timestamp - startTimestamp) / duration, 1);
            const easeOutQuart = 1 - Math.pow(1 - progress, 4); 
            const currentVal = progress === 1 ? end : (start + (end - start) * easeOutQuart);
            obj.innerHTML = currentVal.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2});
            if (progress < 1) window.requestAnimationFrame(step);
        };
        window.requestAnimationFrame(step);
    }

    function calculate() {
        const salary = parseFloat(currSalaryInput.value);
        const oldEntry = parseFloat(oldInput.value);
        const newEntry = parseFloat(newInput.value);
        
        if (isNaN(salary) || isNaN(oldEntry) || isNaN(newEntry)) {
            document.querySelector('.card').style.animation = 'none';
            document.querySelector('.card').offsetHeight; 
            document.querySelector('.card').style.animation = 'shake 0.4s';
            return alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô');
        }

        const result = ((salary - oldEntry) * 0.5832) - (salary - newEntry);
        const resAmt = document.getElementById('resAmt');
        const msgArea = document.getElementById('randomMsg');

        resultBox.style.display = 'block';
        
        let isPositive = result >= 0;
        if (isPositive) {
            resAmt.style.color = "#2E7D32"; 
            msgArea.style.color = "#2E7D32";
            msgArea.innerText = posMessages[Math.floor(Math.random() * posMessages.length)];
            confetti({ particleCount: 150, spread: 80, origin: { y: 0.7 }, colors: ['#DAA520', '#B8860B', '#1A2E44'] });
        } else {
            resAmt.style.color = "#D32F2F"; 
            msgArea.style.color = "#D32F2F";
            msgArea.innerText = negMessages[Math.floor(Math.random() * negMessages.length)];
        }
        animateValue(resAmt, 0, result, 1200);
    }

    const styleSheet = document.createElement("style");
    styleSheet.innerText = `@keyframes shake { 0%, 100% {transform: translateX(0);} 25% {transform: translateX(-4px);} 75% {transform: translateX(4px);} }`;
    document.head.appendChild(styleSheet);
    
    handleEduChange();
</script>
</body>
</html>